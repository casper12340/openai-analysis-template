{"ast":null,"code":"import{useState}from\"react\";import Papa from\"papaparse\";import ReactMarkdown from\"react-markdown\";import'./App.css';// Ensure to import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[oldData,setOldData]=useState([]);const[newData,setNewData]=useState([]);const[analysis,setAnalysis]=useState(null);const[loading,setLoading]=useState(false);const[agentNames,setAgentNames]=useState([]);const[selectedAgents,setSelectedAgents]=useState([]);// Function to parse CSV\nconst handleFileUpload=(event,period)=>{const file=event.target.files[0];if(!file)return;Papa.parse(file,{header:true,dynamicTyping:true,complete:result=>{if(period===\"old\"){setOldData(result.data);}else{setNewData(result.data);}// Update available agent names after each file upload\nupdateAgentNames(period===\"old\"?result.data:oldData,period===\"new\"?result.data:newData);}});};// Function to update agent names from both datasets\nconst updateAgentNames=(oldDataset,newDataset)=>{if(!oldDataset.length&&!newDataset.length)return;const names=new Set();// Extract names from old data\noldDataset.forEach(row=>{if(row[\"Name\"])names.add(row[\"Name\"]);});// Extract names from new data\nnewDataset.forEach(row=>{if(row[\"Name\"])names.add(row[\"Name\"]);});const nameArray=Array.from(names).sort();setAgentNames(nameArray);// Select all agents by default\nsetSelectedAgents(nameArray);};// Handle agent selection toggle\nconst handleAgentToggle=name=>{setSelectedAgents(prev=>{if(prev.includes(name)){return prev.filter(agent=>agent!==name);}else{return[...prev,name];}});};// Handle \"Select All\" toggle\nconst handleSelectAllAgents=()=>{if(selectedAgents.length===agentNames.length){setSelectedAgents([]);}else{setSelectedAgents([...agentNames]);}};const processPeriodicData=data=>{const metrics={};data.forEach(row=>{const name=row[\"Name\"];// Skip if this agent is not selected\nif(!selectedAgents.includes(name))return;if(!metrics[name]){metrics[name]={\"Messages Sent\":0,\"Unique Conversations Messaged\":0,\"Conversations Marked Done\":0,\"Unique Customers Messaged\":new Set(),\"Avg Conversation Handle Time (s)\":[],\"Avg Sent Messages Per Conversation\":[],\"Avg Sent Messages Per Customer\":[],\"First Contact Resolution Rate\":[],\"Avg Message Response Times (ms)\":[],\"Avg First Response Time (ms)\":[],\"Median First Response Time (ms)\":[],\"Avg Time to First Resolution (ms)\":[],\"Median Time to First Resolution (ms)\":[],\"Total Time Logged In (ms)\":0,\"Messages Sent With Shortcuts\":0,\"Percent of Messages Sent With Shortcuts\":[]};}// Aggregate numerical data\nmetrics[name][\"Messages Sent\"]+=row[\"Messages Sent\"]||0;metrics[name][\"Unique Conversations Messaged\"]+=row[\"Unique Conversations Messaged\"]||0;metrics[name][\"Conversations Marked Done\"]+=row[\"Conversations Marked Done\"]||0;metrics[name][\"Unique Customers Messaged\"].add(row[\"Unique Customers Messaged\"]);metrics[name][\"Total Time Logged In (ms)\"]+=row[\"Total Time Logged In (ms)\"]||0;metrics[name][\"Messages Sent With Shortcuts\"]+=row[\"Messages Sent With Shortcuts\"]||0;// Push values for averaging later\n[\"Avg Conversation Handle Time (s)\",\"Avg Sent Messages Per Conversation\",\"Avg Sent Messages Per Customer\",\"First Contact Resolution Rate\",\"Avg Message Response Times (ms)\",\"Avg First Response Time (ms)\",\"Median First Response Time (ms)\",\"Avg Time to First Resolution (ms)\",\"Median Time to First Resolution (ms)\",\"Percent of Messages Sent With Shortcuts\"].forEach(key=>{if(row[key]!==undefined){metrics[name][key].push(row[key]);}});});// Compute averages and finalize data\nObject.keys(metrics).forEach(name=>{Object.keys(metrics[name]).forEach(key=>{if(Array.isArray(metrics[name][key])){const values=metrics[name][key].filter(v=>v!==undefined);metrics[name][key]=values.length?values.reduce((a,b)=>a+b,0)/values.length:0;}});metrics[name][\"Unique Customers Messaged\"]=metrics[name][\"Unique Customers Messaged\"].size;});return Object.fromEntries(Object.entries(metrics).filter(_ref=>{let[_,data]=_ref;return data[\"Messages Sent\"]>=10;}));};const getPerformanceAnalysis=async()=>{if(selectedAgents.length===0){alert(\"Selecteer tenminste één medewerker voor analyse.\");return;}setLoading(true);const oldMetrics=processPeriodicData(oldData);const newMetrics=processPeriodicData(newData);const comparisonData=Object.keys({...oldMetrics,...newMetrics}).map(name=>({Name:name,\"Oude Data\":oldMetrics[name]||null,\"Nieuwe Data\":newMetrics[name]||null}));const prompt=`\n      Vergelijk de medewerker prestaties voor de volgende periodes:\n      ${JSON.stringify(comparisonData,null,2)}\n      Identificeer prestatietrends, verbeteringen en gebieden die verbetering behoeven.\n    `;try{const response=await fetch(\"https://api.openai.com/v1/chat/completions\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:process.env.REACT_APP_OPENAI_API_TOKEN},body:JSON.stringify({model:\"gpt-4o-mini\",messages:[{role:\"user\",content:prompt}],max_tokens:2000})});const result=await response.json();setAnalysis(result.choices[0].message.content);}catch(error){console.error(\"OpenAI API Error:\",error);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",style:{'textAlign':'center','marginTop':'0px'},children:\"Prestaties Vergelijken\"}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",style:{'textAlign':'center'},children:\"Upload hier de CSV files van de periodes die je wil vergelijken.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload-group\",children:[/*#__PURE__*/_jsx(\"p\",{style:{'fontWeight':'bold','marginBottom':'10px'},children:\"Oude Data\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".csv\",onChange:e=>handleFileUpload(e,\"old\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload-group\",children:[/*#__PURE__*/_jsx(\"p\",{style:{'fontWeight':'bold','marginBottom':'10px'},children:\"Nieuwe Data\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".csv\",onChange:e=>handleFileUpload(e,\"new\")})]})]}),agentNames.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"agent-selection\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{'textAlign':'center','marginTop':'20px'},children:\"Selecteer Medewerkers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"select-all-container\",style:{'textAlign':'center','marginBottom':'10px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSelectAllAgents,className:\"select-all-button\",children:selectedAgents.length===agentNames.length?\"Deselecteer Alles\":\"Selecteer Alles\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"agent-checkboxes\",style:{'display':'flex','flexWrap':'wrap','justifyContent':'center','gap':'10px','marginBottom':'20px'},children:agentNames.map(name=>/*#__PURE__*/_jsx(\"div\",{className:\"agent-checkbox\",style:{'margin':'5px','minWidth':'150px'},children:/*#__PURE__*/_jsxs(\"label\",{style:{'display':'flex','alignItems':'center','cursor':'pointer'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedAgents.includes(name),onChange:()=>handleAgentToggle(name),style:{'marginRight':'8px'}}),name]})},name))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{'textAlign':'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:getPerformanceAnalysis,className:\"analyze-button\",disabled:loading||selectedAgents.length===0,children:loading?\"Analyseren...\":\"Prestaties Analyseren\"}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loader-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})})]}),analysis&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"analysis-title\",children:\"Prestaties Inzichten:\"}),/*#__PURE__*/_jsx(ReactMarkdown,{children:analysis})]})]});}export default App;","map":{"version":3,"names":["useState","Papa","ReactMarkdown","jsx","_jsx","jsxs","_jsxs","App","oldData","setOldData","newData","setNewData","analysis","setAnalysis","loading","setLoading","agentNames","setAgentNames","selectedAgents","setSelectedAgents","handleFileUpload","event","period","file","target","files","parse","header","dynamicTyping","complete","result","data","updateAgentNames","oldDataset","newDataset","length","names","Set","forEach","row","add","nameArray","Array","from","sort","handleAgentToggle","name","prev","includes","filter","agent","handleSelectAllAgents","processPeriodicData","metrics","key","undefined","push","Object","keys","isArray","values","v","reduce","a","b","size","fromEntries","entries","_ref","_","getPerformanceAnalysis","alert","oldMetrics","newMetrics","comparisonData","map","Name","prompt","JSON","stringify","response","fetch","method","headers","Authorization","process","env","REACT_APP_OPENAI_API_TOKEN","body","model","messages","role","content","max_tokens","json","choices","message","error","console","className","children","style","type","accept","onChange","e","onClick","checked","disabled"],"sources":["/Users/casper.dekeijzer/Documents/Github Repositories/OpenAI Agent Analysis/openai-agent-analysis/src/App.js"],"sourcesContent":["import { useState } from \"react\";\nimport Papa from \"papaparse\";\nimport ReactMarkdown from \"react-markdown\";\nimport './App.css'; // Ensure to import the CSS file\n\nfunction App() {\n  const [oldData, setOldData] = useState([]);\n  const [newData, setNewData] = useState([]);\n  const [analysis, setAnalysis] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [agentNames, setAgentNames] = useState([]);\n  const [selectedAgents, setSelectedAgents] = useState([]);\n  \n  // Function to parse CSV\n  const handleFileUpload = (event, period) => {\n    const file = event.target.files[0];\n    if (!file) return;\n    Papa.parse(file, {\n      header: true,\n      dynamicTyping: true,\n      complete: (result) => {\n        if (period === \"old\") {\n          setOldData(result.data);\n        } else {\n          setNewData(result.data);\n        }\n        \n        // Update available agent names after each file upload\n        updateAgentNames(period === \"old\" ? result.data : oldData, period === \"new\" ? result.data : newData);\n      },\n    });\n  };\n  \n  // Function to update agent names from both datasets\n  const updateAgentNames = (oldDataset, newDataset) => {\n    if (!oldDataset.length && !newDataset.length) return;\n    \n    const names = new Set();\n    \n    // Extract names from old data\n    oldDataset.forEach(row => {\n      if (row[\"Name\"]) names.add(row[\"Name\"]);\n    });\n    \n    // Extract names from new data\n    newDataset.forEach(row => {\n      if (row[\"Name\"]) names.add(row[\"Name\"]);\n    });\n    \n    const nameArray = Array.from(names).sort();\n    setAgentNames(nameArray);\n    \n    // Select all agents by default\n    setSelectedAgents(nameArray);\n  };\n  \n  // Handle agent selection toggle\n  const handleAgentToggle = (name) => {\n    setSelectedAgents(prev => {\n      if (prev.includes(name)) {\n        return prev.filter(agent => agent !== name);\n      } else {\n        return [...prev, name];\n      }\n    });\n  };\n  \n  // Handle \"Select All\" toggle\n  const handleSelectAllAgents = () => {\n    if (selectedAgents.length === agentNames.length) {\n      setSelectedAgents([]);\n    } else {\n      setSelectedAgents([...agentNames]);\n    }\n  };\n  \n  const processPeriodicData = (data) => {\n    const metrics = {};\n    data.forEach((row) => {\n      const name = row[\"Name\"];\n      \n      // Skip if this agent is not selected\n      if (!selectedAgents.includes(name)) return;\n      \n      if (!metrics[name]) {\n        metrics[name] = {\n          \"Messages Sent\": 0,\n          \"Unique Conversations Messaged\": 0,\n          \"Conversations Marked Done\": 0,\n          \"Unique Customers Messaged\": new Set(),\n          \"Avg Conversation Handle Time (s)\": [],\n          \"Avg Sent Messages Per Conversation\": [],\n          \"Avg Sent Messages Per Customer\": [],\n          \"First Contact Resolution Rate\": [],\n          \"Avg Message Response Times (ms)\": [],\n          \"Avg First Response Time (ms)\": [],\n          \"Median First Response Time (ms)\": [],\n          \"Avg Time to First Resolution (ms)\": [],\n          \"Median Time to First Resolution (ms)\": [],\n          \"Total Time Logged In (ms)\": 0,\n          \"Messages Sent With Shortcuts\": 0,\n          \"Percent of Messages Sent With Shortcuts\": [],\n        };\n      }\n      // Aggregate numerical data\n      metrics[name][\"Messages Sent\"] += row[\"Messages Sent\"] || 0;\n      metrics[name][\"Unique Conversations Messaged\"] += row[\"Unique Conversations Messaged\"] || 0;\n      metrics[name][\"Conversations Marked Done\"] += row[\"Conversations Marked Done\"] || 0;\n      metrics[name][\"Unique Customers Messaged\"].add(row[\"Unique Customers Messaged\"]);\n      metrics[name][\"Total Time Logged In (ms)\"] += row[\"Total Time Logged In (ms)\"] || 0;\n      metrics[name][\"Messages Sent With Shortcuts\"] += row[\"Messages Sent With Shortcuts\"] || 0;\n      // Push values for averaging later\n      [\n        \"Avg Conversation Handle Time (s)\",\n        \"Avg Sent Messages Per Conversation\",\n        \"Avg Sent Messages Per Customer\",\n        \"First Contact Resolution Rate\",\n        \"Avg Message Response Times (ms)\",\n        \"Avg First Response Time (ms)\",\n        \"Median First Response Time (ms)\",\n        \"Avg Time to First Resolution (ms)\",\n        \"Median Time to First Resolution (ms)\",\n        \"Percent of Messages Sent With Shortcuts\",\n      ].forEach((key) => {\n        if (row[key] !== undefined) {\n          metrics[name][key].push(row[key]);\n        }\n      });\n    });\n    // Compute averages and finalize data\n    Object.keys(metrics).forEach((name) => {\n      Object.keys(metrics[name]).forEach((key) => {\n        if (Array.isArray(metrics[name][key])) {\n          const values = metrics[name][key].filter((v) => v !== undefined);\n          metrics[name][key] = values.length ? values.reduce((a, b) => a + b, 0) / values.length : 0;\n        }\n      });\n      metrics[name][\"Unique Customers Messaged\"] = metrics[name][\"Unique Customers Messaged\"].size;\n    });\n    return Object.fromEntries(Object.entries(metrics).filter(([_, data]) => data[\"Messages Sent\"] >= 10));\n  };\n  \n  const getPerformanceAnalysis = async () => {\n    if (selectedAgents.length === 0) {\n      alert(\"Selecteer tenminste één medewerker voor analyse.\");\n      return;\n    }\n    \n    setLoading(true);\n    const oldMetrics = processPeriodicData(oldData);\n    const newMetrics = processPeriodicData(newData);\n    const comparisonData = Object.keys({ ...oldMetrics, ...newMetrics }).map((name) => ({\n      Name: name,\n      \"Oude Data\": oldMetrics[name] || null,\n      \"Nieuwe Data\": newMetrics[name] || null,\n    }));\n    \n    const prompt = `\n      Vergelijk de medewerker prestaties voor de volgende periodes:\n      ${JSON.stringify(comparisonData, null, 2)}\n      Identificeer prestatietrends, verbeteringen en gebieden die verbetering behoeven.\n    `;\n    \n    try {\n      const response = await fetch(\"https://api.openai.com/v1/chat/completions\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: process.env.REACT_APP_OPENAI_API_TOKEN,\n        },\n        body: JSON.stringify({\n          model: \"gpt-4o-mini\",\n          messages: [{ role: \"user\", content: prompt }],\n          max_tokens: 2000,\n        }),\n      });\n      const result = await response.json();\n      setAnalysis(result.choices[0].message.content);\n    } catch (error) {\n      console.error(\"OpenAI API Error:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  return (\n    <div className=\"container\">\n      <h1 className=\"title\" style={{'textAlign': 'center', 'marginTop': '0px'}}>Prestaties Vergelijken</h1>\n      <p className=\"description\" style={{'textAlign': 'center'}}>Upload hier de CSV files van de periodes die je wil vergelijken.</p>\n      \n      {/* File Upload Inputs */}\n      <div className=\"file-upload\">\n        <div className=\"file-upload-group\">\n          <p style={{'fontWeight': 'bold', 'marginBottom': '10px'}}>Oude Data</p>\n          <input type=\"file\" accept=\".csv\" onChange={(e) => handleFileUpload(e, \"old\")} />\n        </div>\n        <div className=\"file-upload-group\">\n          <p style={{'fontWeight': 'bold', 'marginBottom': '10px'}}>Nieuwe Data</p>\n          <input type=\"file\" accept=\".csv\" onChange={(e) => handleFileUpload(e, \"new\")} />\n        </div>\n      </div>\n      \n      {/* Agent Selection Section - Only show when data is loaded */}\n      {agentNames.length > 0 && (\n        <div className=\"agent-selection\">\n          <h2 style={{'textAlign': 'center', 'marginTop': '20px'}}>Selecteer Medewerkers</h2>\n          \n          {/* Select All Option */}\n          <div className=\"select-all-container\" style={{'textAlign': 'center', 'marginBottom': '10px'}}>\n            <button \n              onClick={handleSelectAllAgents}\n              className=\"select-all-button\"\n            >\n              {selectedAgents.length === agentNames.length ? \"Deselecteer Alles\" : \"Selecteer Alles\"}\n            </button>\n          </div>\n          \n          <div className=\"agent-checkboxes\" style={{'display': 'flex', 'flexWrap': 'wrap', 'justifyContent': 'center', 'gap': '10px', 'marginBottom': '20px'}}>\n            {agentNames.map(name => (\n              <div key={name} className=\"agent-checkbox\" style={{'margin': '5px', 'minWidth': '150px'}}>\n                <label style={{'display': 'flex', 'alignItems': 'center', 'cursor': 'pointer'}}>\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedAgents.includes(name)}\n                    onChange={() => handleAgentToggle(name)}\n                    style={{'marginRight': '8px'}}\n                  />\n                  {name}\n                </label>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n      \n      {/* Analyze Button */}\n      <div style={{'textAlign': 'center'}}>\n        <button\n          onClick={getPerformanceAnalysis}\n          className=\"analyze-button\"\n          disabled={loading || selectedAgents.length === 0} \n        >\n          {loading ? \"Analyseren...\" : \"Prestaties Analyseren\"}\n        </button>\n        \n        {/* Loading Indicator */}\n        {loading && (\n          <div className=\"loader-container\">\n            <div className=\"loader\"></div>\n          </div>\n        )}\n      </div>\n      \n      {/* Display Structured Analysis */}\n      {analysis && (\n        <div className=\"analysis-container\">\n          <h2 className=\"analysis-title\">Prestaties Inzichten:</h2>\n          <ReactMarkdown>{analysis}</ReactMarkdown>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}